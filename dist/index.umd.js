!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).streakCounter={})}(this,function(e){function t(e){return e.toLocaleDateString("en-US")}function n(e){return parseInt(e.split("/")[1])}var r="streak";function o(e){var n=new Date,o={storage:e,startDate:t(n),lastLogin:t(n),count:0};return e.setItem(r,JSON.stringify(o)),o}e.getDailyStreak=function(){var e=localStorage,a=function(e){var t=e.getItem(r);try{var n=JSON.parse(t);return""===n?null:n}catch(e){return console.error(e),null}}(e);if(a)try{!function(e){try{var o=JSON.parse(e.getItem(r)||""),a=n(t(new Date))-n(o.lastLogin);1===a?(o.count+=1,e.setItem(r,JSON.stringify(o))):1===a&&console.warn("Streak already incremented today")}catch(e){console.error("No streak to increment")}}(e)}catch(a){!function(e){try{var a=JSON.parse(e.getItem(r)||"");if(n(t(new Date))-n(a.lastLogin)>1){var i=o(e);e.setItem(r,JSON.stringify(i))}}catch(e){console.error("No streak to reset, maybe you want to initialise a new one?")}}(e)}else a=o(e);return a}});
//# sourceMappingURL=index.umd.js.map
